<div class="container mt-5">
  <div class="text-center">
    <h1 class="h4 text-gray-900 mb-4">Autogestión de Usuario</h1>
  </div>

  <form (ngSubmit)="onSubmit()" #userForm="ngForm">
    <!-- Documento -->
    <div class="form-group">
      <label for="id">Documento</label>
      <input type="text" class="form-control" id="id" [(ngModel)]="user.id" name="id" readonly>
    </div>

    <!-- Nombre -->
    <div class="form-group">
      <label for="name">Nombre</label>
      <input type="text" class="form-control" id="name" [(ngModel)]="user.name" name="name" required>
    </div>

    <!-- Apellidos -->
    <div class="form-group">
      <label for="lastName">Primer Apellido</label>
      <input type="text" class="form-control" id="lastName" [(ngModel)]="user.lastName" name="lastName" required>
    </div>

    <div class="form-group">
      <label for="secondLastName">Segundo Apellido</label>
      <input type="text" class="form-control" id="secondLastName" [(ngModel)]="user.secondLastName" name="secondLastName">
    </div>

    <!-- Correo -->
    <div class="form-group">
      <label for="email">Correo electrónico</label>
      <input type="email" class="form-control" id="email" [(ngModel)]="email" name="email" readonly>
    </div>

    <!-- Teléfono -->
    <div class="form-group">
      <label for="phoneNumber">Teléfono</label>
      <input type="text" class="form-control" id="phoneNumber" [(ngModel)]="user.phoneNumber" name="phoneNumber">
    </div>

    <!-- Perfil -->
    <div class="form-group">
      <label for="profile">Perfil</label>
      <input type="text" class="form-control" id="profile" [value]="user.profile?.name" readonly>
    </div>

    <!-- Habilitado -->
    <div class="form-group form-check">
      <input type="checkbox" class="form-check-input" id="enabled" [(ngModel)]="user.enabled" name="enabled">
      <label class="form-check-label" for="enabled">Habilitado</label>
    </div>

    <!-- Campo Nueva Contraseña -->
    <div *ngIf="showPasswordField" class="form-group">
      <label for="newPassword">Nueva Contraseña</label>
      <input type="password" class="form-control" id="newPassword" [(ngModel)]="newPassword" name="newPassword">
    </div>

    <!-- Botón guardar -->
    <button type="submit" class="btn btn-primary btn-block mt-3" [disabled]="!userForm.form.valid">
      Actualizar Información
    </button>
  </form>

  <!-- Botón mostrar/ocultar campo de contraseña -->
  <div class="text-center mt-4 mb-4">
    <button class="btn btn-warning" (click)="togglePasswordField()">
      <i class="fas fa-key"></i> {{ showPasswordField ? 'Cancelar Cambio de Contraseña' : 'Cambiar Contraseña' }}
    </button>
  </div>
</div>
